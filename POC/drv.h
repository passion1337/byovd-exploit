#pragma once 
#include "native.h"
#include <vector>
#include <string>

#define CTLCODE_PHYS_R 0x222010u
#define CTLCODE_PHYS_W 0x222014u


namespace driver
{
	void Unload();

	bool Load();
}

namespace lenovo 
{
	template <typename T>
	BOOL ReadPhysical(uint64_t address, T* data);

	template <typename T>
	BOOL WritePhysical(uint64_t address, T* data);

	bool setupSyscall();

	bool MemCopy(void* dst, void* src, size_t size);

	uint64_t IoGetCurrentProcess();
}